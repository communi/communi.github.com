<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Communi: examples/quick/qml/MessageFormatter.qml File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://communi.github.com"><img alt="Logo" src="communi.png"/></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Communi
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">A cross-platform IRC framework written with Qt</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_dd85b1dfeadb33db0bb60a6220a98df2.html">quick</a></li><li class="navelem"><a class="el" href="dir_8496489fdfc350c5a85214a4c6efe7f2.html">qml</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MessageFormatter.qml File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="quick.html">Qt Quick example</a>  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Copyright (C) 2008-2013 The Communi Project</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This example is free, and not covered by the LGPL license. There is no</span></div>
<div class="line"><span class="comment"> * restriction applied to their modification, redistribution, using and so on.</span></div>
<div class="line"><span class="comment"> * You can study them, modify them, use them in your own program - either</span></div>
<div class="line"><span class="comment"> * completely or partially.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">import</span> QtQuick 2.1</div>
<div class="line">import Communi 3.0</div>
<div class="line"></div>
<div class="line">QtObject {</div>
<div class="line">    <span class="keywordtype">id</span>: root</div>
<div class="line"></div>
<div class="line">    <span class="keyword">property</span> <a class="code" href="class_irc_text_format.html">IrcTextFormat</a> textFormat: <a class="code" href="class_irc_text_format.html">IrcTextFormat</a> {</div>
<div class="line">        <span class="keywordtype">id</span>: textFormat</div>
<div class="line"></div>
<div class="line">        palette.gray: <span class="stringliteral">&quot;#606060&quot;</span></div>
<div class="line">        palette.lightGray: <span class="stringliteral">&quot;#808080&quot;</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// http://ethanschoonover.com/solarized</span></div>
<div class="line">        palette.blue: <span class="stringliteral">&quot;#268bd2&quot;</span></div>
<div class="line">        palette.green: <span class="stringliteral">&quot;#859900&quot;</span></div>
<div class="line">        palette.red: <span class="stringliteral">&quot;#dc322f&quot;</span></div>
<div class="line">        palette.brown: <span class="stringliteral">&quot;#cb4b16&quot;</span></div>
<div class="line">        palette.purple: <span class="stringliteral">&quot;#6c71c4&quot;</span></div>
<div class="line">        palette.orange: <span class="stringliteral">&quot;#cb4b16&quot;</span></div>
<div class="line">        palette.yellow: <span class="stringliteral">&quot;#b58900&quot;</span></div>
<div class="line">        palette.lightGreen: <span class="stringliteral">&quot;#859900&quot;</span></div>
<div class="line">        palette.cyan: <span class="stringliteral">&quot;#2aa198&quot;</span></div>
<div class="line">        palette.lightCyan: <span class="stringliteral">&quot;#2aa198&quot;</span></div>
<div class="line">        palette.lightBlue: <span class="stringliteral">&quot;#268bd2&quot;</span></div>
<div class="line">        palette.pink: <span class="stringliteral">&quot;#6c71c4&quot;</span></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> formatMessage(message) {</div>
<div class="line">        var formatted</div>
<div class="line">        <span class="keywordflow">switch</span> (message.<a class="code" href="class_irc_message.html#aa021c38da6e1eef68e8044000f79f7aa">type</a>) {</div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea1a68def826e2caf680c4032b4bc15be0">Invite</a>:  formatted = formatInviteMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea8be6a23471631f8d29d814434aa75a04">Join</a>:    formatted = formatJoinMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea78c166e84a5709596295d4b273e04c42">Kick</a>:    formatted = formatKickMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea546c7f488c441f6defd41f8a7f2fe412">Mode</a>:    formatted = formatModeMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbeade8a49033f005713c4a49755eb5ce4f2">Names</a>:   formatted = formatNamesMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea1d6b506c86c49118e00ea91e6a5e715c">Nick</a>:    formatted = formatNickMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea86d87b9910da28a9904f75776f591569">Notice</a>:  formatted = formatNoticeMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbead0828746a7ba4ab1aba07b110f66e592">Numeric</a>: formatted = formatNumericMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbea78efe3c17c39aebe549ec60ed12fbeb6">Part</a>:    formatted = formatPartMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbeaaf0f4b4adb7b851d0c7f64c3303b75f8">Private</a>: formatted = formatPrivateMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbead5c86c25082627ad735425bd52a5db4e">Quit</a>:    formatted = formatQuitMessage(message); <span class="keywordflow">break</span></div>
<div class="line">            <span class="keywordflow">case</span> <a class="code" href="class_irc_message.html">IrcMessage</a>.<a class="code" href="class_irc_message.html#a9b859b3a8d24f1a959073ce015460cbeaf41fda4ee261861ae8c508636d591e3a">Topic</a>:   formatted = formatTopicMessage(message); <span class="keywordflow">break</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> formatText(formatted, message.<a class="code" href="class_irc_message.html#a7c4d13b54a90b8b5b5f4a1b3e1c9f1ca">timeStamp</a>)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> formatText(text, timeStamp) {</div>
<div class="line">        <span class="keywordflow">if</span> (text) {</div>
<div class="line">            <span class="keywordflow">switch</span> (text[0]) {</div>
<div class="line">                <span class="keywordflow">case</span> <span class="charliteral">&#39;!&#39;</span>: text = qsTr(<span class="stringliteral">&quot;&lt;font color=&#39;gray&#39;&gt;%1&lt;/font&gt;&quot;</span>).arg(text); <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>: text = qsTr(<span class="stringliteral">&quot;&lt;font color=&#39;brown&#39;&gt;%1&lt;/font&gt;&quot;</span>).arg(text); <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>: text = qsTr(<span class="stringliteral">&quot;&lt;font color=&#39;darkmagenta&#39;&gt;%1&lt;/font&gt;&quot;</span>).arg(text); <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>: text = qsTr(<span class="stringliteral">&quot;&lt;font color=&#39;brown&#39;&gt;%1&lt;/font&gt;&quot;</span>).arg(text); <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> qsTr(<span class="stringliteral">&quot;&lt;font color=&#39;gray&#39;&gt;[%1]&lt;/font&gt; %2&quot;</span>).arg(Qt.formatTime(timeStamp, <span class="stringliteral">&quot;hh:mm:ss&quot;</span>)).arg(text)</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> formatInviteMessage(message) {</div>
<div class="line">        var sender = formatName(message.<a class="code" href="class_irc_message.html#a9108f9aa72e92e55b6408d965a9ca884">nick</a>)</div>
<div class="line">        return qsTr(&quot;! %1 invited to %3&quot;).arg(sender).arg(message.channel)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatJoinMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        return qsTr(&quot;! %1 joined %2&quot;).arg(sender).arg(message.channel)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatKickMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        var user = formatName(message.user)</div>
<div class="line">        if (message.reason.length)</div>
<div class="line">            return qsTr(&quot;! %1 kicked %2 (%3)&quot;).arg(sender).arg(user).arg(message.reason)</div>
<div class="line">        return qsTr(&quot;! %1 kicked %2&quot;).arg(sender).arg(user)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatModeMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        if (message.reply)</div>
<div class="line">            return qsTr(&quot;! %1 mode is %2 %3&quot;).arg(message.target).arg(message.mode).arg(message.argument)</div>
<div class="line">        return qsTr(&quot;! %1 sets mode %2 %3&quot;).arg(sender).arg(message.mode).arg(message.argument)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatNamesMessage(message) {</div>
<div class="line">        <span class="keywordflow">return</span> qsTr(<span class="stringliteral">&quot;! %1 has %2 users&quot;</span>).<a class="codeRef" doxygen="/Users/jpnurmi/Qt/5.1.1/clang_64/doc/qtcore/qtcore.tags:http://qt-project.org/doc/qt-5.1/qtcore/" href="http://qt-project.org/doc/qt-5.1/qtcore/qstring.html#arg-14">arg</a>(message.channel).<a class="codeRef" doxygen="/Users/jpnurmi/Qt/5.1.1/clang_64/doc/qtcore/qtcore.tags:http://qt-project.org/doc/qt-5.1/qtcore/" href="http://qt-project.org/doc/qt-5.1/qtcore/qstring.html#arg-14">arg</a>(message.names.length)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> formatNickMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        var nick = formatName(message.newNick)</div>
<div class="line">        return qsTr(&quot;! %1 changed nick to %2&quot;).arg(sender).arg(nick)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatNoticeMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        var content = formatHtml(message.content)</div>
<div class="line">        return qsTr(&quot;[%1] %2&quot;).arg(sender).arg(content)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatNumericMessage(message) {</div>
<div class="line">        <span class="keywordflow">switch</span> (message.code) {</div>
<div class="line">        <span class="keywordflow">case</span> Irc.RPL_TOPIC:</div>
<div class="line">        <span class="keywordflow">case</span> Irc.RPL_TOPICWHOTIME:</div>
<div class="line">        <span class="keywordflow">case</span> Irc.RPL_CHANNEL_URL:</div>
<div class="line">        <span class="keywordflow">case</span> Irc.RPL_NAMREPLY:</div>
<div class="line">        <span class="keywordflow">case</span> Irc.RPL_ENDOFNAMES:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="comment">// ignore</span></div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">return</span> qsTr(<span class="stringliteral">&quot;[%1] %2&quot;</span>).<a class="codeRef" doxygen="/Users/jpnurmi/Qt/5.1.1/clang_64/doc/qtcore/qtcore.tags:http://qt-project.org/doc/qt-5.1/qtcore/" href="http://qt-project.org/doc/qt-5.1/qtcore/qstring.html#arg-14">arg</a>(message.code).<a class="codeRef" doxygen="/Users/jpnurmi/Qt/5.1.1/clang_64/doc/qtcore/qtcore.tags:http://qt-project.org/doc/qt-5.1/qtcore/" href="http://qt-project.org/doc/qt-5.1/qtcore/qstring.html#arg-14">arg</a>(message.parameters.slice(1).join(<span class="stringliteral">&quot; &quot;</span>))</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> formatPartMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        if (message.reason.length)</div>
<div class="line">            return qsTr(&quot;! %1 parted %2 (%3)&quot;).arg(sender).arg(message.channel).arg(formatHtml(message.reason))</div>
<div class="line">        return qsTr(&quot;! %1 parted %2&quot;).arg(sender).arg(message.channel)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatPrivateMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        var content = formatHtml(message.content)</div>
<div class="line">        if (message.action)</div>
<div class="line">            return qsTr(&quot;* %1 %2&quot;).arg(sender).arg(content)</div>
<div class="line">        if (message.request)</div>
<div class="line">            return qsTr(&quot;! %1 requested %2&quot;).arg(sender).arg(content.split(&quot; &quot;)[0].toLowerCase())</div>
<div class="line">        return qsTr(&quot;&amp;lt;%1&amp;gt; %2&quot;).arg(sender).arg(content)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatQuitMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        if (message.reason.length)</div>
<div class="line">            return qsTr(&quot;! %1 has quit (%2)&quot;).arg(sender).arg(formatHtml(message.reason))</div>
<div class="line">        return qsTr(&quot;! %1 has quit&quot;).arg(sender)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatTopicMessage(message) {</div>
<div class="line">        var sender = formatName(message.nick)</div>
<div class="line">        var topic = formatHtml(message.topic)</div>
<div class="line">        var channel = message.channel</div>
<div class="line">        if (message.reply)</div>
<div class="line">            return qsTr(&quot;! %1 topic is \&quot;%2\&quot;&quot;).arg(channel).arg(topic)</div>
<div class="line">        return qsTr(&quot;! %1 sets topic \&quot;%2\&quot; on %3&quot;).arg(sender).arg(topic).arg(channel)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    function formatHtml(message) {</div>
<div class="line">        <span class="keywordflow">return</span> textFormat.toHtml(message)</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> formatName(name) {</div>
<div class="line">        var color = hslToRgb((hashCode(name) % 359)/359, 0.5, 0.25)</div>
<div class="line">        var r = (&quot;0&quot; + Math.round(Math.abs(color[0])).toString(16)).substr(-2)</div>
<div class="line">        var g = (&quot;0&quot; + Math.round(Math.abs(color[1])).toString(16)).substr(-2)</div>
<div class="line">        var b = (&quot;0&quot; + Math.round(Math.abs(color[2])).toString(16)).substr(-2)</div>
<div class="line">        return qsTr(&quot;&lt;b&gt;&lt;font color=&#39;<span class="preprocessor">#%1&#39;&gt;%2&lt;/font&gt;&lt;/b&gt;&quot;).arg(r+g+b).arg(name);</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> hashCode(str) {</div>
<div class="line">        var hash = 0;</div>
<div class="line">        <span class="keywordflow">if</span> (str.length == 0) <span class="keywordflow">return</span> hash;</div>
<div class="line">        <span class="keywordflow">for</span> (var i = 0; i &lt; str.length; i++) {</div>
<div class="line">            var chr = str.charCodeAt(i);</div>
<div class="line">            hash = ((hash&lt;&lt;5)-hash)+chr;</div>
<div class="line">            hash = hash &amp; hash; <span class="comment">// Convert to 32bit integer</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> hash;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">function</span> hslToRgb(h, s, l){</div>
<div class="line">        var r, g, b;</div>
<div class="line"></div>
<div class="line">        <span class="keyword">function</span> hue2rgb(p, q, t){</div>
<div class="line">            <span class="keywordflow">if</span>(t &lt; 0) t += 1;</div>
<div class="line">            <span class="keywordflow">if</span>(t &gt; 1) t -= 1;</div>
<div class="line">            <span class="keywordflow">if</span>(t &lt; 1/6) <span class="keywordflow">return</span> p + (q - p) * 6 * t;</div>
<div class="line">            <span class="keywordflow">if</span>(t &lt; 1/2) <span class="keywordflow">return</span> q;</div>
<div class="line">            <span class="keywordflow">if</span>(t &lt; 2/3) <span class="keywordflow">return</span> p + (q - p) * (2/3 - t) * 6;</div>
<div class="line">            <span class="keywordflow">return</span> p;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(s == 0){</div>
<div class="line">            r = g = b = l; <span class="comment">// achromatic</span></div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            var q = l &lt; 0.5 ? l * (1 + s) : l + s - l * s;</div>
<div class="line">            var p = 2 * l - q;</div>
<div class="line">            r = hue2rgb(p, q, h + 1/3);</div>
<div class="line">            g = hue2rgb(p, q, h);</div>
<div class="line">            b = hue2rgb(p, q, h - 1/3);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> [r * 255, g * 255, b * 255];</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 20 2013 17:19:14 for Communi by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
